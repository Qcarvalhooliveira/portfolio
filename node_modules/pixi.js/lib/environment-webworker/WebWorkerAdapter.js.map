{"version":3,"file":"WebWorkerAdapter.js","sources":["../../src/environment-webworker/WebWorkerAdapter.ts"],"sourcesContent":["import { type Adapter } from '../environment/adapter';\nimport { DOMParser } from '@xmldom/xmldom';\n\n/**\n * This is an implementation of the {@link environment.Adapter} interface.\n * It can be used to make Pixi work in a Web Worker.\n * @memberof environment\n * @property {Function} createCanvas - Creates a canvas element of the given size using the browser's native OffscreenCanvas.\n * @property {Function} getCanvasRenderingContext2D - Returns a 2D rendering context.\n * @property {Function} getWebGLRenderingContext - Returns a WebGL rendering context.\n * @property {Function} getNavigator - Returns browsers window.navigator\n * @property {Function} getBaseUrl - Returns the current base URL of the worker, which is globalThis.location.href\n * @property {Function} getFontFaceSet - Return the font face set if available\n * @property {Function} fetch - Returns a Response object that has been fetched from the given URL.\n * @property {Function} parseXML - Returns Document object that has been parsed from the given XML string.\n * @memberof environment\n */\nexport const WebWorkerAdapter = {\n    createCanvas: (width?: number, height?: number) => new OffscreenCanvas(width ?? 0, height ?? 0),\n    getCanvasRenderingContext2D: () => OffscreenCanvasRenderingContext2D,\n    getWebGLRenderingContext: () => WebGLRenderingContext,\n    getNavigator: () => navigator,\n    getBaseUrl: () => globalThis.location.href,\n    getFontFaceSet: () => (globalThis as unknown as WorkerGlobalScope).fonts,\n    fetch: (url: RequestInfo, options?: RequestInit) => fetch(url, options),\n    parseXML: (xml: string) =>\n    {\n        const parser = new DOMParser();\n\n        return parser.parseFromString(xml, 'text/xml');\n    },\n} as Adapter;\n"],"names":["DOMParser"],"mappings":";;;;;AAiBO,MAAM,gBAAmB,GAAA;AAAA,EAC5B,YAAA,EAAc,CAAC,KAAgB,EAAA,MAAA,KAAoB,IAAI,eAAgB,CAAA,KAAA,IAAS,CAAG,EAAA,MAAA,IAAU,CAAC,CAAA;AAAA,EAC9F,6BAA6B,MAAM,iCAAA;AAAA,EACnC,0BAA0B,MAAM,qBAAA;AAAA,EAChC,cAAc,MAAM,SAAA;AAAA,EACpB,UAAA,EAAY,MAAM,UAAA,CAAW,QAAS,CAAA,IAAA;AAAA,EACtC,cAAA,EAAgB,MAAO,UAA4C,CAAA,KAAA;AAAA,EACnE,OAAO,CAAC,GAAA,EAAkB,OAA0B,KAAA,KAAA,CAAM,KAAK,OAAO,CAAA;AAAA,EACtE,QAAA,EAAU,CAAC,GACX,KAAA;AACI,IAAM,MAAA,MAAA,GAAS,IAAIA,gBAAU,EAAA,CAAA;AAE7B,IAAO,OAAA,MAAA,CAAO,eAAgB,CAAA,GAAA,EAAK,UAAU,CAAA,CAAA;AAAA,GACjD;AACJ;;;;"}